!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,n,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function s(t,i,o,a){var s=i&&i.prototype instanceof l?i:l,c=Object.create(s.prototype);return e(c,"_invoke",function(t,e,i){var o,a,s,l=0,c=i||[],f=!1,h={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return o=t,a=0,s=r,h.n=e,u}};function p(t,e){for(a=t,s=e,n=0;!f&&l&&!i&&n<c.length;n++){var i,o=c[n],p=h.p,d=o[2];t>3?(i=d===e)&&(s=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=r):o[0]<=p&&((i=t<2&&p<o[1])?(a=0,h.v=e,h.n=o[1]):p<d&&(i=t<3||o[0]>e||e>d)&&(o[4]=t,o[5]=e,h.n=d,a=0))}if(i||t>1)return u;throw f=!0,e}return function(i,c,d){if(l>1)throw TypeError("Generator is already running");for(f&&1===c&&p(c,d),a=c,s=d;(n=a<2?r:s)||!f;){o||(a?a<3?(a>1&&(h.n=-1),p(a,s)):h.n=s:h.v=s);try{if(l=2,o){if(a||(i="next"),n=o[i]){if(!(n=n.call(o,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,a<2&&(a=0)}else 1===a&&(n=o.return)&&n.call(o),a<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=r}else if((n=(f=h.n<0)?s:t.call(e,h))!==u)break}catch(n){o=r,a=1,s=n}finally{l=1}}return{value:n,done:f}}}(t,o,a),!0),c}var u={};function l(){}function c(){}function f(){}n=Object.getPrototypeOf;var h=[][o]?n(n([][o]())):(e(n={},o,function(){return this}),n),p=f.prototype=l.prototype=Object.create(h);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,e(t,a,"GeneratorFunction")),t.prototype=Object.create(p),t}return c.prototype=f,e(p,"constructor",f),e(f,"constructor",c),c.displayName="GeneratorFunction",e(f,a,"GeneratorFunction"),e(p),e(p,a,"Generator"),e(p,o,function(){return this}),e(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:s,m:d}})()}function e(t,r,n,i){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}e=function(t,r,n,i){function a(r,n){e(t,r,function(t){return this._invoke(r,n,t)})}r?o?o(t,r,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[r]=n:(a("next",0),a("throw",1),a("return",2))},e(t,r,n,i)}function r(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function n(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)})}}function i(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e,r){return e=s(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return p(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function y(t,e,r){return e&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}System.register(["./index-legacy-670fce47.js"],function(e,r){"use strict";var a,s,l,h,p;return{setters:[function(t){a=t.t,s=t.W,l=t._,h=t.M,p=t.L}],execute:function(){var m=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==g(e)&&"object"==g(r)){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;0!==i--;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!=e&&r!=r},v=a(m),k=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],w=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(d(this,t),isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var o=k.indexOf(this.ArrayType),a=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-s%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+u,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+a+s+u),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+u,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}return y(t,[{key:"add",value:function(t,e){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=e,r}},{key:"finish",value:function(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return b(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}},{key:"range",value:function(t,e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var i=this.ids,o=this.coords,a=this.nodeSize,s=[0,i.length-1,0],u=[];s.length;){var l=s.pop()||0,c=s.pop()||0,f=s.pop()||0;if(c-f<=a)for(var h=f;h<=c;h++){var p=o[2*h],d=o[2*h+1];p>=t&&p<=r&&d>=e&&d<=n&&u.push(i[h])}else{var m=f+c>>1,y=o[2*m],v=o[2*m+1];y>=t&&y<=r&&v>=e&&v<=n&&u.push(i[m]),(0===l?t<=y:e<=v)&&(s.push(f),s.push(m-1),s.push(1-l)),(0===l?r>=y:n>=v)&&(s.push(m+1),s.push(c),s.push(1-l))}}return u}},{key:"within",value:function(t,e,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var n=this.ids,i=this.coords,o=this.nodeSize,a=[0,n.length-1,0],s=[],u=r*r;a.length;){var l=a.pop()||0,c=a.pop()||0,f=a.pop()||0;if(c-f<=o)for(var h=f;h<=c;h++)I(i[2*h],i[2*h+1],t,e)<=u&&s.push(n[h]);else{var p=f+c>>1,d=i[2*p],m=i[2*p+1];I(d,m,t,e)<=u&&s.push(n[p]),(0===l?t-r<=d:e-r<=m)&&(a.push(f),a.push(p-1),a.push(1-l)),(0===l?t+r>=d:e+r>=m)&&(a.push(p+1),a.push(c),a.push(1-l))}}return s}}],[{key:"from",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var r=f(new Uint8Array(e,0,2),2),n=r[0],i=r[1];if(219!==n)throw new Error("Data does not appear to be in a KDBush format.");var o=i>>4;if(1!==o)throw new Error("Got v".concat(o," data when expected v").concat(1,"."));var a=k[15&i];if(!a)throw new Error("Unrecognized array type.");var s=f(new Uint16Array(e,2,1),1)[0];return new t(f(new Uint32Array(e,4,1),1)[0],s,a,e)}}])}();function b(t,e,r,n,i,o){if(!(i-n<=r)){var a=n+i>>1;M(t,e,a,n,i,o),b(t,e,r,n,a-1,1-o),b(t,e,r,a+1,i,1-o)}}function M(t,e,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);M(t,e,r,Math.max(n,Math.floor(r-s*l/a+c)),Math.min(i,Math.floor(r+(a-s)*l/a+c)),o)}var f=e[2*r+o],h=n,p=i;for(L(t,e,n,r),e[2*i+o]>f&&L(t,e,n,i);h<p;){for(L(t,e,h,p),h++,p--;e[2*h+o]<f;)h++;for(;e[2*p+o]>f;)p--}e[2*n+o]===f?L(t,e,n,p):L(t,e,++p,i),p<=r&&(n=p+1),r<=p&&(i=p-1)}}function L(t,e,r,n){C(t,r,n),C(e,2*r,2*n),C(e,2*r+1,2*n+1)}function C(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function I(t,e,r,n){var i=t-r,o=e-n;return i*i+o*o}var E,_={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},x=Math.fround||(E=new Float32Array(1),function(t){return E[0]=+t,E[0]}),A=function(){return y(function t(e){d(this,t),this.options=Object.assign(Object.create(_),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]},[{key:"load",value:function(t){var e=this.options,r=e.log,n=e.minZoom,i=e.maxZoom;r&&console.time("total time");var o="prepare ".concat(t.length," points");r&&console.time(o),this.points=t;for(var a=[],s=0;s<t.length;s++){var u=t[s];if(u.geometry){var l=f(u.geometry.coordinates,2),c=l[0],h=l[1],p=x(S(c)),d=x(j(h));a.push(p,d,1/0,s,-1,1),this.options.reduce&&a.push(0)}}var m=this.trees[i+1]=this._createTree(a);r&&console.timeEnd(o);for(var y=i;y>=n;y--){var v=+Date.now();m=this.trees[y]=this._createTree(this._cluster(m,y)),r&&console.log("z%d: %d clusters in %dms",y,m.numItems,+Date.now()-v)}return r&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(t,e){var r=((t[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,i=180;else if(r>i){var a=this.getClusters([r,n,180,o],e),s=this.getClusters([-180,n,i,o],e);return a.concat(s)}var u,l=this.trees[this._limitZoom(e)],f=l.range(S(r),j(o),S(i),j(n)),h=l.data,p=[],d=c(f);try{for(d.s();!(u=d.n()).done;){var m=u.value,y=this.stride*m;p.push(h[y+5]>1?P(h,y,this.clusterProps):this.points[h[y+3]])}}catch(v){d.e(v)}finally{d.f()}return p}},{key:"getChildren",value:function(t){var e=this._getOriginId(t),r=this._getOriginZoom(t),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);var o=i.data;if(e*this.stride>=o.length)throw new Error(n);var a,s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),u=o[e*this.stride],l=o[e*this.stride+1],f=[],h=c(i.within(u,l,s));try{for(h.s();!(a=h.n()).done;){var p=a.value*this.stride;o[p+4]===t&&f.push(o[p+5]>1?P(o,p,this.clusterProps):this.points[o[p+3]])}}catch(d){h.e(d)}finally{h.f()}if(0===f.length)throw new Error(n);return f}},{key:"getLeaves",value:function(t,e,r){e=e||10,r=r||0;var n=[];return this._appendLeaves(n,t,e,r,0),n}},{key:"getTile",value:function(t,e,r){var n=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,u=(r-s)/i,l=(r+1+s)/i,c={features:[]};return this._addTileFeatures(n.range((e-s)/i,u,(e+1+s)/i,l),n.data,e,r,i,c),0===e&&this._addTileFeatures(n.range(1-s/i,u,1,l),n.data,i,r,i,c),e===i-1&&this._addTileFeatures(n.range(0,u,s/i,l),n.data,-1,r,i,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e}},{key:"_appendLeaves",value:function(t,e,r,n,i){var o,a=c(this.getChildren(e));try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.properties;if(u&&u.cluster?i+u.point_count<=n?i+=u.point_count:i=this._appendLeaves(t,u.cluster_id,r,n,i):i<n?i++:t.push(s),t.length===r)break}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"_createTree",value:function(t){for(var e=new w(t.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<t.length;r+=this.stride)e.add(t[r],t[r+1]);return e.finish(),e.data=t,e}},{key:"_addTileFeatures",value:function(t,e,r,n,i,o){var a,s=c(t);try{for(s.s();!(a=s.n()).done;){var u=a.value*this.stride,l=e[u+5]>1,h=void 0,p=void 0,d=void 0;if(l)h=O(e,u,this.clusterProps),p=e[u],d=e[u+1];else{var m=this.points[e[u+3]];h=m.properties;var y=f(m.geometry.coordinates,2),v=y[0],g=y[1];p=S(v),d=j(g)}var k={type:1,geometry:[[Math.round(this.options.extent*(p*i-r)),Math.round(this.options.extent*(d*i-n))]],tags:h},w=void 0;void 0!==(w=l||this.options.generateId?e[u+3]:this.points[e[u+3]].id)&&(k.id=w),o.features.push(k)}}catch(b){s.e(b)}finally{s.f()}}},{key:"_limitZoom",value:function(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}},{key:"_cluster",value:function(t,e){for(var r=this.options,n=r.radius,i=r.extent,o=r.reduce,a=r.minPoints,s=n/(i*Math.pow(2,e)),u=t.data,l=[],f=this.stride,h=0;h<u.length;h+=f)if(!(u[h+2]<=e)){u[h+2]=e;var p,d=u[h],m=u[h+1],y=t.within(u[h],u[h+1],s),v=u[h+5],g=v,k=c(y);try{for(k.s();!(p=k.n()).done;){var w=p.value*f;u[w+2]>e&&(g+=u[w+5])}}catch(B){k.e(B)}finally{k.f()}if(g>v&&g>=a){var b,M=d*v,L=m*v,C=void 0,I=-1,E=(h/f<<5)+(e+1)+this.points.length,_=c(y);try{for(_.s();!(b=_.n()).done;){var x=b.value*f;if(!(u[x+2]<=e)){u[x+2]=e;var A=u[x+5];M+=u[x]*A,L+=u[x+1]*A,u[x+4]=E,o&&(C||(C=this._map(u,h,!0),I=this.clusterProps.length,this.clusterProps.push(C)),o(C,this._map(u,x)))}}}catch(B){_.e(B)}finally{_.f()}u[h+4]=E,l.push(M/g,L/g,1/0,E,-1,g),o&&l.push(I)}else{for(var P=0;P<f;P++)l.push(u[h+P]);if(g>1){var O,S=c(y);try{for(S.s();!(O=S.n()).done;){var j=O.value*f;if(!(u[j+2]<=e)){u[j+2]=e;for(var T=0;T<f;T++)l.push(u[j+T])}}}catch(B){S.e(B)}finally{S.f()}}}}return l}},{key:"_getOriginId",value:function(t){return t-this.points.length>>5}},{key:"_getOriginZoom",value:function(t){return(t-this.points.length)%32}},{key:"_map",value:function(t,e,r){if(t[e+5]>1){var n=this.clusterProps[t[e+6]];return r?Object.assign({},n):n}var i=this.points[t[e+3]].properties,o=this.options.map(i);return r&&o===i?Object.assign({},o):o}}])}();function P(t,e,r){return{type:"Feature",id:t[e+3],properties:O(t,e,r),geometry:{type:"Point",coordinates:[(o=t[e],360*(o-.5)),(n=t[e+1],i=(180-360*n)*Math.PI/180,360*Math.atan(Math.exp(i))/Math.PI-90)]}};var n,i,o;
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.

      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.

      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */}function O(t,e,r){var n=t[e+5],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,o=t[e+6],a=-1===o?{}:Object.assign({},r[o]);return Object.assign(a,{cluster:!0,cluster_id:t[e+3],point_count:n,point_count_abbreviated:i})}function S(t){return t/360+.5}function j(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}var T=function(){return y(function t(){d(this,t)},null,[{key:"isAdvancedMarkerAvailable",value:function(t){return google.maps.marker&&!0===t.getMapCapabilities().isAdvancedMarkersAvailable}},{key:"isAdvancedMarker",value:function(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}},{key:"setMap",value:function(t,e){this.isAdvancedMarker(t)?t.map=e:t.setMap(e)}},{key:"getPosition",value:function(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}},{key:"getVisible",value:function(t){return!!this.isAdvancedMarker(t)||t.getVisible()}}])}(),B=function(){return y(function t(e){var r=e.markers,n=e.position;d(this,t),this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))},[{key:"bounds",get:function(){if(0!==this.markers.length||this._position){var t,e=new google.maps.LatLngBounds(this._position,this._position),r=c(this.markers);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.extend(T.getPosition(n))}}catch(i){r.e(i)}finally{r.f()}return e}}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter(function(t){return T.getVisible(t)}).length}},{key:"push",value:function(t){this.markers.push(t)}},{key:"delete",value:function(){this.marker&&(T.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}])}(),Z=function(){return y(function t(e){var r=e.maxZoom,n=void 0===r?16:r;d(this,t),this.maxZoom=n},[{key:"noop",value:function(t){var e=t.markers;return z(e)}}])}(),z=function(t){return t.map(function(t){return new B({position:T.getPosition(t),markers:[t]})})},U=function(t){function e(t){var r;d(this,e);var n=t.maxZoom,i=t.radius,a=void 0===i?60:i,s=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(t,["maxZoom","radius"]);return(r=o(this,e,[{maxZoom:n}])).state={zoom:-1},r.superCluster=new A(Object.assign({maxZoom:r.maxZoom,radius:a},s)),r}return u(e,t),y(e,[{key:"calculate",value:function(t){var e=!1,r={zoom:t.map.getZoom()};if(!v(t.markers,this.markers)){e=!0,this.markers=i(t.markers);var n=this.markers.map(function(t){var e=T.getPosition(t);return{type:"Feature",geometry:{type:"Point",coordinates:[e.lng(),e.lat()]},properties:{marker:t}}});this.superCluster.load(n)}return e||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(e=!v(this.state,r)),this.state=r,e&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:e}}},{key:"cluster",value:function(t){var e=this,r=t.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(function(t){return e.transformCluster(t)})}},{key:"transformCluster",value:function(t){var e=f(t.geometry.coordinates,2),r=e[0],n=e[1],i=t.properties;if(i.cluster)return new B({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(function(t){return t.properties.marker}),position:{lat:n,lng:r}});var o=i.marker;return new B({markers:[o],position:T.getPosition(o)})}}])}(Z),N=y(function t(e,r){d(this,t),this.markers={sum:e.length};var n=r.map(function(t){return t.count}),o=n.reduce(function(t,e){return t+e},0);this.clusters={count:r.length,markers:{mean:o/r.length,sum:o,min:Math.min.apply(Math,i(n)),max:Math.max.apply(Math,i(n))}}}),F=function(){return y(function t(){d(this,t)},[{key:"render",value:function(t,e,r){var n=t.count,i=t.position,o=n>Math.max(10,e.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(n,"</text>\n</svg>"),s="Cluster of ".concat(n," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+n;if(T.isAdvancedMarkerAvailable(r)){var l=(new DOMParser).parseFromString(a,"image/svg+xml").documentElement;l.setAttribute("transform","translate(0 25)");var c={map:r,position:i,zIndex:u,title:s,content:l};return new google.maps.marker.AdvancedMarkerElement(c)}var f={position:i,zIndex:u,title:s,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(f)}}])}();var G,D=y(function t(){d(this,t),function(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}(t,google.maps.OverlayView)});!function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"}(G||(G={}));var R=function(t,e,r){r.fitBounds(e.bounds)},H=function(t){function e(t){var r,n=t.map,a=t.markers,s=void 0===a?[]:a,u=t.algorithmOptions,l=void 0===u?{}:u,c=t.algorithm,f=void 0===c?new U(l):c,h=t.renderer,p=void 0===h?new F:h,m=t.onClusterClick,y=void 0===m?R:m;return d(this,e),(r=o(this,e)).markers=i(s),r.clusters=[],r.algorithm=f,r.renderer=p,r.onClusterClick=y,n&&r.setMap(n),r}return u(e,t),y(e,[{key:"addMarker",value:function(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}},{key:"addMarkers",value:function(t,e){var r=this;t.forEach(function(t){r.addMarker(t,!0)}),e||this.render()}},{key:"removeMarker",value:function(t,e){var r=this.markers.indexOf(t);return-1!==r&&(T.setMap(t,null),this.markers.splice(r,1),e||this.render(),!0)}},{key:"removeMarkers",value:function(t,e){var r=this,n=!1;return t.forEach(function(t){n=r.removeMarker(t,!0)||n}),n&&!e&&this.render(),n}},{key:"clearMarkers",value:function(t){this.markers.length=0,t||this.render()}},{key:"render",value:function(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,G.CLUSTERING_BEGIN,this);var e=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()}),r=e.clusters,n=e.changed;if(n||null==n){var i,o=new Set,a=c(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;1==s.markers.length&&o.add(s.markers[0])}}catch(p){a.e(p)}finally{a.f()}var u,l=[],f=c(this.clusters);try{for(f.s();!(u=f.n()).done;){var h=u.value;null!=h.marker&&(1==h.markers.length?o.has(h.marker)||T.setMap(h.marker,null):l.push(h.marker))}}catch(p){f.e(p)}finally{f.f()}this.clusters=r,this.renderClusters(),requestAnimationFrame(function(){return l.forEach(function(t){return T.setMap(t,null)})})}google.maps.event.trigger(this,G.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach(function(t){return T.setMap(t,null)}),this.clusters.forEach(function(t){return t.delete()}),this.clusters=[]}},{key:"renderClusters",value:function(){var t=this,e=new N(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(function(n){1===n.markers.length?n.marker=n.markers[0]:(n.marker=t.renderer.render(n,e,r),n.markers.forEach(function(t){return T.setMap(t,null)}),t.onClusterClick&&n.marker.addListener("click",function(e){google.maps.event.trigger(t,G.CLUSTER_CLICK,n),t.onClusterClick(e,n,r)})),T.setMap(n.marker,r)})}}])}(D),W=function(e){function i(){var t;return d(this,i),(t=o(this,i,arguments)).gMapsRef=void 0,t.AdvancedMarkerElement=void 0,t.PinElement=void 0,t.maps={},t.currMarkerId=0,t.currPolygonId=0,t.currCircleId=0,t.currPolylineId=0,t.currMapId=0,t.onClusterClickHandler=function(e,r,n){var i,o=t.getIdFromMap(n),a=[];if(null!=r.markers&&t.AdvancedMarkerElement){var s,u=c(r.markers);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l instanceof t.AdvancedMarkerElement){var f=t.getIdFromMarker(o,l),h=l.position;a.push({markerId:f,latitude:h.lat,longitude:h.lng,title:null!==(i=l.title)&&void 0!==i?i:"",snippet:""})}}}catch(p){u.e(p)}finally{u.f()}}t.notifyListeners("onClusterClick",{mapId:o,latitude:r.position.lat,longitude:r.position.lng,size:r.count,items:a})},t}return u(i,e),y(i,[{key:"getIdFromMap",value:function(t){for(var e in this.maps)if(this.maps[e].map==t)return e;return""}},{key:"getIdFromMarker",value:function(t,e){for(var r in this.maps[t].markers)if(this.maps[t].markers[r]==e)return r;return""}},{key:"importGoogleLib",value:($=n(t().m(function e(n,i,o){var a,s,u,c,f,h;return t().w(function(t){for(;;)switch(t.n){case 0:if(void 0!==this.gMapsRef){t.n=4;break}return t.n=1,l(function(){return r.import("./index-legacy-09385de0.js")},void 0);case 1:return a=t.v,s=new a.Loader({apiKey:null!=n?n:"",version:"weekly",libraries:["places"],language:o,region:i}),t.n=2,s.load();case 2:return u=t.v,this.gMapsRef=u.maps,t.n=3,u.maps.importLibrary("marker");case 3:c=t.v,f=c.AdvancedMarkerElement,h=c.PinElement,this.AdvancedMarkerElement=f,this.PinElement=h,console.log("Loaded google maps API");case 4:return t.a(2)}},e,this)})),function(t,e,r){return $.apply(this,arguments)})},{key:"enableTouch",value:(Y=n(t().m(function e(r){return t().w(function(t){for(;;)switch(t.n){case 0:this.maps[r.id].map.setOptions({gestureHandling:"auto"});case 1:return t.a(2)}},e,this)})),function(t){return Y.apply(this,arguments)})},{key:"disableTouch",value:(X=n(t().m(function e(r){return t().w(function(t){for(;;)switch(t.n){case 0:this.maps[r.id].map.setOptions({gestureHandling:"none"});case 1:return t.a(2)}},e,this)})),function(t){return X.apply(this,arguments)})},{key:"setCamera",value:(q=n(t().m(function e(r){return t().w(function(t){for(;;)switch(t.n){case 0:this.maps[r.id].map.moveCamera({center:r.config.coordinate,heading:r.config.bearing,tilt:r.config.angle,zoom:r.config.zoom});case 1:return t.a(2)}},e,this)})),function(t){return q.apply(this,arguments)})},{key:"getMapType",value:(V=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:if(void 0===(n=this.maps[r.id].map.getMapTypeId())){t.n=1;break}return"roadmap"===n&&(n=h.Normal),t.a(2,{type:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1))});case 1:throw new Error("Map type is undefined");case 2:return t.a(2)}},e,this)})),function(t){return V.apply(this,arguments)})},{key:"setMapType",value:(K=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:n=r.mapType.toLowerCase(),r.mapType===h.Normal&&(n="roadmap"),this.maps[r.id].map.setMapTypeId(n);case 1:return t.a(2)}},e,this)})),function(t){return K.apply(this,arguments)})},{key:"enableIndoorMaps",value:(W=n(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:throw new Error("Method not supported on web.");case 1:return t.a(2)}},e)})),function(){return W.apply(this,arguments)})},{key:"enableTrafficLayer",value:(R=n(t().m(function e(r){var n,i;return t().w(function(t){for(;;)switch(t.n){case 0:i=null!==(n=this.maps[r.id].trafficLayer)&&void 0!==n?n:new google.maps.TrafficLayer,r.enabled?(i.setMap(this.maps[r.id].map),this.maps[r.id].trafficLayer=i):this.maps[r.id].trafficLayer&&(i.setMap(null),this.maps[r.id].trafficLayer=void 0);case 1:return t.a(2)}},e,this)})),function(t){return R.apply(this,arguments)})},{key:"enableAccessibilityElements",value:(D=n(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:throw new Error("Method not supported on web.");case 1:return t.a(2)}},e)})),function(){return D.apply(this,arguments)})},{key:"dispatchMapEvent",value:function(){throw new Error("Method not supported on web.")}},{key:"enableCurrentLocation",value:(G=n(t().m(function e(r){var n=this;return t().w(function(t){for(;;)switch(t.n){case 0:if(!r.enabled){t.n=2;break}if(!navigator.geolocation){t.n=1;break}navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude};n.maps[r.id].map.setCenter(e),n.notifyListeners("onMyLocationButtonClick",{}),n.notifyListeners("onMyLocationClick",{})},function(){throw new Error("Geolocation not supported on web browser.")}),t.n=2;break;case 1:throw new Error("Geolocation not supported on web browser.");case 2:return t.a(2)}},e)})),function(t){return G.apply(this,arguments)})},{key:"setPadding",value:(F=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:void 0!==(n=this.maps[r.id].map.getBounds())&&this.maps[r.id].map.fitBounds(n,r.padding);case 1:return t.a(2)}},e,this)})),function(t){return F.apply(this,arguments)})},{key:"getMapBounds",value:(N=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:if(n=this.maps[r.id].map.getBounds()){t.n=1;break}throw new Error("Google Map Bounds could not be found.");case 1:return t.a(2,new p({southwest:{lat:n.getSouthWest().lat(),lng:n.getSouthWest().lng()},center:{lat:n.getCenter().lat(),lng:n.getCenter().lng()},northeast:{lat:n.getNorthEast().lat(),lng:n.getNorthEast().lng()}}))}},e,this)})),function(t){return N.apply(this,arguments)})},{key:"fitBounds",value:(z=n(t().m(function e(r){var n,i;return t().w(function(t){for(;;)switch(t.n){case 0:n=this.maps[r.id].map,i=this.getLatLngBounds(r.bounds),n.fitBounds(i,r.padding);case 1:return t.a(2)}},e,this)})),function(t){return z.apply(this,arguments)})},{key:"addMarkers",value:(Z=n(t().m(function e(r){var n,i,o,a,s,u,l,f;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:n=[],i=this.maps[r.id],o=c(r.markers),t.p=1,o.s();case 2:if((a=o.n()).done){t.n=5;break}return s=a.value,u=this.buildMarkerOpts(s,i.map),l=""+this.currMarkerId,i.markers[l]=u,t.n=3,this.setMarkerListeners(r.id,l,u);case 3:n.push(l),this.currMarkerId++;case 4:t.n=2;break;case 5:t.n=7;break;case 6:t.p=6,f=t.v,o.e(f);case 7:return t.p=7,o.f(),t.f(7);case 8:return t.a(2,{ids:n})}},e,this,[[1,6,7,8]])})),function(t){return Z.apply(this,arguments)})},{key:"addMarker",value:(B=n(t().m(function e(r){var n,i;return t().w(function(t){for(;;)switch(t.n){case 0:return n=this.buildMarkerOpts(r.marker,this.maps[r.id].map),i=""+this.currMarkerId,this.maps[r.id].markers[i]=n,t.n=1,this.setMarkerListeners(r.id,i,n);case 1:return this.currMarkerId++,t.a(2,{id:i})}},e,this)})),function(t){return B.apply(this,arguments)})},{key:"removeMarkers",value:(T=n(t().m(function e(r){var n,i,o,a;return t().w(function(t){for(;;)switch(t.n){case 0:n=this.maps[r.id],i=c(r.markerIds);try{for(i.s();!(o=i.n()).done;)a=o.value,n.markers[a]&&(n.markers[a].map=null,delete n.markers[a])}catch(e){i.e(e)}finally{i.f()}case 1:return t.a(2)}},e,this)})),function(t){return T.apply(this,arguments)})},{key:"removeMarker",value:(j=n(t().m(function e(r){return t().w(function(t){for(;;)switch(t.n){case 0:this.maps[r.id].markers[r.markerId]&&(this.maps[r.id].markers[r.markerId].map=null,delete this.maps[r.id].markers[r.markerId]);case 1:return t.a(2)}},e,this)})),function(t){return j.apply(this,arguments)})},{key:"addPolygons",value:(S=n(t().m(function e(r){var n,i,o,a,s,u,l;return t().w(function(t){for(;;)if(0===t.n){n=[],i=this.maps[r.id],o=c(r.polygons);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=new google.maps.Polygon(s)).setMap(i.map),l=""+this.currPolygonId,this.maps[r.id].polygons[l]=u,this.setPolygonListeners(r.id,l,u),n.push(l),this.currPolygonId++}catch(e){o.e(e)}finally{o.f()}return t.a(2,{ids:n})}},e,this)})),function(t){return S.apply(this,arguments)})},{key:"removePolygons",value:(O=n(t().m(function e(r){var n,i,o,a;return t().w(function(t){for(;;)switch(t.n){case 0:n=this.maps[r.id],i=c(r.polygonIds);try{for(i.s();!(o=i.n()).done;)a=o.value,n.polygons[a].setMap(null),delete n.polygons[a]}catch(e){i.e(e)}finally{i.f()}case 1:return t.a(2)}},e,this)})),function(t){return O.apply(this,arguments)})},{key:"addCircles",value:(P=n(t().m(function e(r){var n,i,o,a,s,u,l;return t().w(function(t){for(;;)if(0===t.n){n=[],i=this.maps[r.id],o=c(r.circles);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=new google.maps.Circle(s)).setMap(i.map),l=""+this.currCircleId,this.maps[r.id].circles[l]=u,this.setCircleListeners(r.id,l,u),n.push(l),this.currCircleId++}catch(e){o.e(e)}finally{o.f()}return t.a(2,{ids:n})}},e,this)})),function(t){return P.apply(this,arguments)})},{key:"removeCircles",value:(A=n(t().m(function e(r){var n,i,o,a;return t().w(function(t){for(;;)switch(t.n){case 0:n=this.maps[r.id],i=c(r.circleIds);try{for(i.s();!(o=i.n()).done;)a=o.value,n.circles[a].setMap(null),delete n.circles[a]}catch(e){i.e(e)}finally{i.f()}case 1:return t.a(2)}},e,this)})),function(t){return A.apply(this,arguments)})},{key:"addPolylines",value:(x=n(t().m(function e(r){var n,i,o,a,s,u,l;return t().w(function(t){for(;;)if(0===t.n){n=[],i=this.maps[r.id],o=c(r.polylines);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=new google.maps.Polyline(s)).set("tag",s.tag),u.setMap(i.map),l=""+this.currPolylineId,this.maps[r.id].polylines[l]=u,this.setPolylineListeners(r.id,l,u),n.push(l),this.currPolylineId++}catch(e){o.e(e)}finally{o.f()}return t.a(2,{ids:n})}},e,this)})),function(t){return x.apply(this,arguments)})},{key:"removePolylines",value:(_=n(t().m(function e(r){var n,i,o,a;return t().w(function(t){for(;;)switch(t.n){case 0:n=this.maps[r.id],i=c(r.polylineIds);try{for(i.s();!(o=i.n()).done;)a=o.value,n.polylines[a].setMap(null),delete n.polylines[a]}catch(e){i.e(e)}finally{i.f()}case 1:return t.a(2)}},e,this)})),function(t){return _.apply(this,arguments)})},{key:"enableClustering",value:(E=n(t().m(function e(r){var n,i,o;return t().w(function(t){for(;;)switch(t.n){case 0:for(o in i=[],this.maps[r.id].markers)i.push(this.maps[r.id].markers[o]);this.maps[r.id].markerClusterer=new H({map:this.maps[r.id].map,markers:i,algorithm:new U({minPoints:null!==(n=r.minClusterSize)&&void 0!==n?n:4}),onClusterClick:this.onClusterClickHandler});case 1:return t.a(2)}},e,this)})),function(t){return E.apply(this,arguments)})},{key:"disableClustering",value:(I=n(t().m(function e(r){var n,i,o,a;return t().w(function(t){for(;;)switch(t.n){case 0:if((n=this.maps[r.id]).markerClusterer)for(i=Object.values(n.markers),n.markerClusterer.setMap(null),n.markerClusterer=void 0,o=0,a=i;o<a.length;o++)a[o].map=n.map;case 1:return t.a(2)}},e,this)})),function(t){return I.apply(this,arguments)})},{key:"onScroll",value:(C=n(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:throw new Error("Method not supported on web.");case 1:return t.a(2)}},e)})),function(){return C.apply(this,arguments)})},{key:"onResize",value:(L=n(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:throw new Error("Method not supported on web.");case 1:return t.a(2)}},e)})),function(){return L.apply(this,arguments)})},{key:"onDisplay",value:(M=n(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:throw new Error("Method not supported on web.");case 1:return t.a(2)}},e)})),function(){return M.apply(this,arguments)})},{key:"create",value:(b=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:return console.log("Create map: ".concat(r.id)),t.n=1,this.importGoogleLib(r.apiKey,r.region,r.language);case 1:(n=Object.assign({},r.config)).mapId||(n.mapId="capacitor_map_".concat(this.currMapId++)),this.maps[r.id]={map:new window.google.maps.Map(r.element,n),element:r.element,markers:{},polygons:{},circles:{},polylines:{}},this.setMapListeners(r.id);case 2:return t.a(2)}},e,this)})),function(t){return b.apply(this,arguments)})},{key:"destroy",value:(w=n(t().m(function e(r){var n;return t().w(function(t){for(;;)switch(t.n){case 0:console.log("Destroy map: ".concat(r.id)),(n=this.maps[r.id]).element.innerHTML="",n.map.unbindAll(),delete this.maps[r.id];case 1:return t.a(2)}},e,this)})),function(t){return w.apply(this,arguments)})},{key:"mapBoundsContains",value:(k=n(t().m(function e(r){var n,i;return t().w(function(t){for(;;)if(0===t.n)return n=this.getLatLngBounds(r.bounds),i=new google.maps.LatLng(r.point.lat,r.point.lng),t.a(2,{contains:n.contains(i)})},e,this)})),function(t){return k.apply(this,arguments)})},{key:"mapBoundsExtend",value:(g=n(t().m(function e(r){var n,i,o;return t().w(function(t){for(;;)if(0===t.n)return n=this.getLatLngBounds(r.bounds),i=new google.maps.LatLng(r.point.lat,r.point.lng),n.extend(i),o=new p({southwest:{lat:n.getSouthWest().lat(),lng:n.getSouthWest().lng()},center:{lat:n.getCenter().lat(),lng:n.getCenter().lng()},northeast:{lat:n.getNorthEast().lat(),lng:n.getNorthEast().lng()}}),t.a(2,{bounds:o})},e,this)})),function(t){return g.apply(this,arguments)})},{key:"getLatLngBounds",value:function(t){return new google.maps.LatLngBounds(new google.maps.LatLng(t.southwest.lat,t.southwest.lng),new google.maps.LatLng(t.northeast.lat,t.northeast.lng))}},{key:"setCircleListeners",value:(v=n(t().m(function e(r,n,i){var o=this;return t().w(function(t){for(;;)switch(t.n){case 0:i.addListener("click",function(){o.notifyListeners("onCircleClick",{mapId:r,circleId:n,tag:i.get("tag")})});case 1:return t.a(2)}},e)})),function(t,e,r){return v.apply(this,arguments)})},{key:"setPolygonListeners",value:(m=n(t().m(function e(r,n,i){var o=this;return t().w(function(t){for(;;)switch(t.n){case 0:i.addListener("click",function(){o.notifyListeners("onPolygonClick",{mapId:r,polygonId:n,tag:i.get("tag")})});case 1:return t.a(2)}},e)})),function(t,e,r){return m.apply(this,arguments)})},{key:"setPolylineListeners",value:(f=n(t().m(function e(r,n,i){var o=this;return t().w(function(t){for(;;)switch(t.n){case 0:i.addListener("click",function(){o.notifyListeners("onPolylineClick",{mapId:r,polylineId:n,tag:i.get("tag")})});case 1:return t.a(2)}},e)})),function(t,e,r){return f.apply(this,arguments)})},{key:"setMarkerListeners",value:(s=n(t().m(function e(r,n,i){var o=this;return t().w(function(t){for(;;)switch(t.n){case 0:i.addListener("click",function(){var t,e=i.position;o.notifyListeners("onMarkerClick",{mapId:r,markerId:n,latitude:e.lat,longitude:e.lng,title:null!==(t=i.title)&&void 0!==t?t:"",snippet:""})}),i.gmpDraggable&&(i.addListener("dragstart",function(){var t,e=i.position;o.notifyListeners("onMarkerDragStart",{mapId:r,markerId:n,latitude:e.lat,longitude:e.lng,title:null!==(t=i.title)&&void 0!==t?t:"",snippet:""})}),i.addListener("drag",function(){var t,e=i.position;o.notifyListeners("onMarkerDrag",{mapId:r,markerId:n,latitude:e.lat,longitude:e.lng,title:null!==(t=i.title)&&void 0!==t?t:"",snippet:""})}),i.addListener("dragend",function(){var t,e=i.position;o.notifyListeners("onMarkerDragEnd",{mapId:r,markerId:n,latitude:e.lat,longitude:e.lng,title:null!==(t=i.title)&&void 0!==t?t:"",snippet:""})}));case 1:return t.a(2)}},e)})),function(t,e,r){return s.apply(this,arguments)})},{key:"setMapListeners",value:(a=n(t().m(function e(r){var i,o=this;return t().w(function(e){for(;;)switch(e.n){case 0:(i=this.maps[r].map).addListener("idle",n(t().m(function e(){var n,a,s;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.getMapBounds({id:r});case 1:s=t.v,o.notifyListeners("onCameraIdle",{mapId:r,bearing:i.getHeading(),bounds:s,latitude:null===(n=i.getCenter())||void 0===n?void 0:n.lat(),longitude:null===(a=i.getCenter())||void 0===a?void 0:a.lng(),tilt:i.getTilt(),zoom:i.getZoom()});case 2:return t.a(2)}},e)}))),i.addListener("center_changed",function(){o.notifyListeners("onCameraMoveStarted",{mapId:r,isGesture:!0})}),i.addListener("bounds_changed",n(t().m(function e(){var n,a,s;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o.getMapBounds({id:r});case 1:s=t.v,o.notifyListeners("onBoundsChanged",{mapId:r,bearing:i.getHeading(),bounds:s,latitude:null===(n=i.getCenter())||void 0===n?void 0:n.lat(),longitude:null===(a=i.getCenter())||void 0===a?void 0:a.lng(),tilt:i.getTilt(),zoom:i.getZoom()});case 2:return t.a(2)}},e)}))),i.addListener("click",function(t){var e,n;o.notifyListeners("onMapClick",{mapId:r,latitude:null===(e=t.latLng)||void 0===e?void 0:e.lat(),longitude:null===(n=t.latLng)||void 0===n?void 0:n.lng()})}),this.notifyListeners("onMapReady",{mapId:r});case 1:return e.a(2)}},e,this)})),function(t){return a.apply(this,arguments)})},{key:"buildMarkerOpts",value:function(t,e){var r;if(!this.AdvancedMarkerElement||!this.PinElement)throw new Error("Marker library not loaded");var n=void 0;if(t.iconUrl){var i=document.createElement("img");i.src=t.iconUrl,t.iconSize&&(i.style.width="".concat(t.iconSize.width,"px"),i.style.height="".concat(t.iconSize.height,"px")),n=i}else{var o={scale:null!==(r=t.opacity)&&void 0!==r?r:1,glyph:t.title,background:t.tintColor?"rgb(".concat(t.tintColor.r,", ").concat(t.tintColor.g,", ").concat(t.tintColor.b,")"):void 0};n=new this.PinElement(o).element}return new this.AdvancedMarkerElement({position:t.coordinate,map:e,content:n,title:t.title,gmpDraggable:t.draggable})}}]);var a,s,f,m,v,g,k,w,b,M,L,C,I,E,_,x,A,P,O,S,j,T,B,Z,z,N,F,G,D,R,W,K,V,q,X,Y,$}(s);e("CapacitorGoogleMapsWeb",W)}}})}();
